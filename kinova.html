<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kinova VR | Digital Twin Interface</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="icon" type="image/jpeg" href="logo.jpg">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4Y501HY0RS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-4Y501HY0RS');
    </script>

    <style>
        /* Fuentes T√©cnicas */
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
        }

        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* Gradiente Cyberpunk (Variante Azul/Rosa para VR) */
        .text-gradient {
            background: linear-gradient(to right, #22d3ee, #d946ef, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Efecto Glow */
        .glow-cyan {
            box-shadow: 0 0 25px rgba(6, 182, 212, 0.2);
        }

        .tech-grid {
            background-image: linear-gradient(rgba(30, 41, 59, 0.5) 1px, transparent 1px),
                linear-gradient(90deg, rgba(30, 41, 59, 0.5) 1px, transparent 1px);
            background-size: 20px 20px;
        }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        slate: {
                            900: '#0f172a',
                            800: '#1e293b',
                            950: '#020617',
                        }
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-slate-900 text-slate-200 antialiased selection:bg-cyan-500 selection:text-white">

    <!-- Navbar Minimalista -->
    <nav class="fixed w-full z-50 bg-slate-900/80 backdrop-blur-md border-b border-slate-800">
        <div class="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">
            <a href="index.html"
                class="font-bold text-xl font-mono text-slate-400 hover:text-white transition-colors flex items-center gap-2">
                <i data-lucide="arrow-left" class="w-5 h-5"></i> Back to Portfolio
            </a>
            <div class="hidden md:flex space-x-6 text-sm font-medium">
                <a href="https://github.com/PMP2448/Virtual-Kinova-Interface" target="_blank"
                    class="text-slate-500 hover:text-cyan-400 transition-colors flex items-center gap-2"
                    title="View Source Code">
                    <i data-lucide="github" class="w-4 h-4"></i> View Repository
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="pt-32 pb-20 px-6 relative overflow-hidden">

        <div
            class="absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[400px] bg-cyan-600/10 rounded-full blur-[100px] -z-10">
        </div>

        <div class="max-w-4xl mx-auto text-center">
            <div
                class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-cyan-500/10 border border-cyan-500/20 text-cyan-400 font-mono text-sm mb-6">
                <i data-lucide="box" class="w-4 h-4"></i> Digital Twins & Robotics
            </div>
            <h1 class="text-5xl md:text-6xl font-bold text-white mb-6">VR Kinova <span
                    class="text-gradient">Interface</span></h1>
            <p class="text-xl text-slate-400 leading-relaxed max-w-2xl mx-auto">
                Immersive control system for a 6-DOF industrial robot using Meta Quest 3. Featuring a "Digital Twin"
                safety layer for pre-execution validation.
            </p>

            <div class="flex flex-wrap justify-center gap-3 mt-8">
                <span
                    class="px-3 py-1 rounded bg-slate-800 border border-slate-700 text-sm font-mono text-cyan-400">Unity
                    3D (C#)</span>
                <span
                    class="px-3 py-1 rounded bg-slate-800 border border-slate-700 text-sm font-mono text-orange-400">ROS
                    / ROS Bridge</span>
                <span
                    class="px-3 py-1 rounded bg-slate-800 border border-slate-700 text-sm font-mono text-yellow-400">Python
                    (TCP)</span>
                <span
                    class="px-3 py-1 rounded bg-slate-800 border border-slate-700 text-sm font-mono text-purple-400">Meta
                    Quest 3</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-6 pb-24 space-y-24">

        <!-- The Concept -->
        <section class="grid md:grid-cols-2 gap-12 items-center">
            <div>
                <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-2">
                    <i data-lucide="layers" class="text-cyan-500"></i> The Concept
                </h2>
                <div class="prose prose-invert text-slate-400">
                    <p>
                        Teleoperating industrial robots remotely is risky. A single wrong move can damage expensive
                        hardware.
                    </p>
                    <p class="mt-4">
                        This project solves that by implementing a <strong>Digital Twin</strong> workflow. The user
                        controls a virtual robot in Unity (VR), sets waypoints, and validates the trajectory visually.
                        Only when the path is confirmed is the data sent to the physical Kinova Gen2 robot via ROS.
                    </p>
                </div>
            </div>
            <div
                class="bg-slate-950 p-6 rounded-xl border border-slate-800 tech-grid relative h-64 flex items-center justify-center">
                <!-- Visual del concepto -->
                <div class="flex items-center gap-8 opacity-90">
                    <div class="text-center">
                        <i data-lucide="glasses" class="w-16 h-16 text-cyan-500 mx-auto mb-2 animate-pulse"></i>
                        <span class="font-mono text-xs text-cyan-500">VIRTUAL (Unity)</span>
                    </div>
                    <i data-lucide="arrow-right-left" class="w-8 h-8 text-slate-600"></i>
                    <div class="text-center">
                        <i data-lucide="bot" class="w-16 h-16 text-orange-500 mx-auto mb-2"></i>
                        <span class="font-mono text-xs text-orange-500">REAL (Kinova)</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- System Architecture -->
        <section>
            <h2 class="text-3xl font-bold text-white mb-10 text-center">System Architecture</h2>

            <div class="bg-slate-900 rounded-2xl p-8 border border-slate-800 relative overflow-hidden">
                <!-- Decorative BG -->
                <div class="absolute top-0 right-0 w-64 h-64 bg-cyan-500/5 rounded-full blur-3xl"></div>

                <div class="space-y-12">
                    <!-- Step 1: Unity Client -->
                    <div class="flex flex-col md:flex-row gap-6 relative z-10">
                        <div
                            class="w-16 h-16 rounded-full bg-cyan-900/30 flex-shrink-0 flex items-center justify-center border border-cyan-500/20 text-cyan-400 font-bold text-xl">
                            1</div>
                        <div>
                            <h3 class="text-xl font-bold text-white mb-2">VR Client (Unity + C#)</h3>
                            <p class="text-slate-400 text-sm mb-3">
                                The user interacts with the Ghost Robot. When a waypoint is set, Unity serializes the
                                position and rotation (Quaternion) into a JSON packet.
                            </p>
                            <div
                                class="font-mono text-xs text-slate-500 bg-slate-950 p-2 rounded border border-slate-800 inline-block">
                                {"tipo": "pose", "position": {"x": 0.5...}, "orientation": {...}}
                            </div>
                        </div>
                    </div>

                    <!-- Connector Line -->
                    <div class="hidden md:block w-0.5 h-8 bg-slate-700 ml-8 -my-4"></div>

                    <!-- Step 2: TCP Bridge -->
                    <div class="flex flex-col md:flex-row gap-6 relative z-10">
                        <div
                            class="w-16 h-16 rounded-full bg-yellow-900/30 flex-shrink-0 flex items-center justify-center border border-yellow-500/20 text-yellow-400 font-bold text-xl">
                            2</div>
                        <div>
                            <h3 class="text-xl font-bold text-white mb-2">TCP/IP Bridge (Python Middleware)</h3>
                            <p class="text-slate-400 text-sm">
                                A custom Python script <code class="text-yellow-400">vr_bridge_server.py</code> listens
                                on
                                Port 5005. It parses the JSON and publishes ROS messages to internal topics like <code
                                    class="text-slate-300">/vr/add_point</code>.
                            </p>
                        </div>
                    </div>

                    <!-- Connector Line -->
                    <div class="hidden md:block w-0.5 h-8 bg-slate-700 ml-8 -my-4"></div>

                    <!-- Step 3: ROS Controller -->
                    <div class="flex flex-col md:flex-row gap-6 relative z-10">
                        <div
                            class="w-16 h-16 rounded-full bg-orange-900/30 flex-shrink-0 flex items-center justify-center border border-orange-500/20 text-orange-400 font-bold text-xl">
                            3</div>
                        <div>
                            <h3 class="text-xl font-bold text-white mb-2">Trajectory Manager (ROS ActionLib)</h3>
                            <p class="text-slate-400 text-sm">
                                The node <code class="text-orange-400">trajectory_manager.py</code> receives the
                                points and stores them in a queue (Queue System). Upon receiving a "Execute" command, it
                                sends goals sequentially to the Kinova Driver using ActionLib, ensuring smooth
                                transitions.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Technical Spotlight: Queue System -->
        <section class="grid md:grid-cols-2 gap-8">
            <div class="bg-slate-950 rounded-xl p-6 border border-slate-800">
                <h3 class="text-white font-bold mb-4 flex items-center gap-2">
                    <i data-lucide="code" class="text-green-500"></i> The "Safety Queue" Logic
                </h3>
                <pre class="font-mono text-xs text-slate-300 overflow-x-auto">
<span class="text-purple-400">def</span> <span class="text-yellow-400">execute_trajectory</span>(self):
    <span class="text-slate-500"># Validate points before moving</span>
    total = len(self.point_queue)
    print(f"üöÄ Starting trajectory with {total} points...")

    <span class="text-purple-400">for</span> i, pose <span class="text-purple-400">in</span> enumerate(self.point_queue):
        <span class="text-slate-500"># Send to Arm Driver</span>
        goal.pose.pose = pose
        self.client.send_goal(goal)
        
        <span class="text-slate-500"># BLOCKING: Wait for result before next point</span>
        <span class="text-purple-400">if</span> self.client.wait_for_result(timeout=15.0):
            print(f"‚úÖ Point {i} reached.")
        <span class="text-purple-400">else</span>:
            <span class="text-red-400">abort()</span> <span class="text-slate-500"># Safety Critical Stop</span></pre>
            </div>
            <div class="flex flex-col justify-center">
                <h3 class="text-xl font-bold text-white mb-4">Why a Queue?</h3>
                <p class="text-slate-400 mb-4">
                    Direct teleoperation can be jittery. By buffering inputs into a queue, we ensure the robot executes
                    <strong>smooth, planned paths</strong>.
                </p>
                <div class="space-y-2">
                    <div class="flex items-center gap-3 p-3 bg-slate-800 rounded border border-slate-700">
                        <i data-lucide="shield-check" class="text-green-400"></i>
                        <span class="text-sm text-slate-300">Prevent Collision</span>
                    </div>
                    <div class="flex items-center gap-3 p-3 bg-slate-800 rounded border border-slate-700">
                        <i data-lucide="activity" class="text-cyan-400"></i>
                        <span class="text-sm text-slate-300">Smooth Trajectories</span>
                    </div>
                    <div class="flex items-center gap-3 p-3 bg-slate-800 rounded border border-slate-700">
                        <i data-lucide="wifi-off" class="text-red-400"></i>
                        <span class="text-sm text-slate-300">Latency Handling</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Project Status & Challenges -->
        <section class="mt-16 bg-slate-900/50 border border-slate-700/50 rounded-2xl p-8 backdrop-blur-sm">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                <i data-lucide="info" class="w-6 h-6 text-cyan-400"></i> Project Status
            </h2>

            <div class="grid md:grid-cols-2 gap-8">
                <!-- Working Features (Green) -->
                <div>
                    <h3
                        class="text-green-400 font-mono text-sm font-bold mb-4 uppercase tracking-wider flex items-center gap-2">
                        <i data-lucide="check-circle-2" class="w-4 h-4"></i> Fully Functional
                    </h3>
                    <ul class="space-y-3 text-slate-400 text-sm">
                        <li class="flex items-start gap-2">
                            <span class="w-1.5 h-1.5 rounded-full bg-green-500 mt-1.5"></span>
                            <span><strong>VR Integration:</strong> Real-time teleoperation via Meta Quest headset is
                                smooth and responsive.</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="w-1.5 h-1.5 rounded-full bg-green-500 mt-1.5"></span>
                            <span><strong>Coordinate Mapping:</strong> Accurate translation of hand movements to robot
                                end-effector poses.</span>
                        </li>
                    </ul>
                </div>

                <!-- Critical Issue (Red/Orange) -->
                <div>
                    <h3
                        class="text-orange-400 font-mono text-sm font-bold mb-4 uppercase tracking-wider flex items-center gap-2">
                        <i data-lucide="alert-triangle" class="w-4 h-4"></i> Critical Challenge
                    </h3>
                    <div class="bg-orange-900/10 border border-orange-500/20 rounded-lg p-4">
                        <strong class="text-orange-200 block mb-2 text-sm">The "Singularity Locking" Issue</strong>
                        <p class="text-slate-400 text-sm mb-3">
                            Currently, the mathematical planner validates certain trajectories that create
                            <strong>kinematic singularities</strong> on the physical robot.
                        </p>
                        <p class="text-slate-400 text-sm border-l-2 border-orange-500/30 pl-3">
                            <em>Result:</em> The software says "Move OK", but the real robot locks up safely to prevent
                            damage, causing a desynchronization between the Digital Twin and reality.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <section class="border-t border-slate-800 pt-12 mt-12">
            <h3 class="text-white font-bold mb-4">Project Team</h3>
            <div class="flex flex-wrap gap-4 text-sm text-slate-400 mb-8">
                <a href="index.html"
                    class="flex items-center gap-2 bg-slate-800 px-3 py-1 rounded-full hover:bg-slate-700 hover:text-white transition-colors"><i
                        data-lucide="user" class="w-3 h-3"></i> Hugo Sevilla Mart√≠nez</a>
                <a href="https://jdst.es" target="_blank"
                    class="flex items-center gap-2 bg-slate-800 px-3 py-1 rounded-full hover:bg-slate-700 hover:text-white transition-colors"><i
                        data-lucide="user" class="w-3 h-3"></i> Juan Diego Serrato</a>
                <span class="flex items-center gap-2 bg-slate-800 px-3 py-1 rounded-full"><i data-lucide="user"
                        class="w-3 h-3"></i> Bruno Guti√©rrez</span>
                <span class="flex items-center gap-2 bg-slate-800 px-3 py-1 rounded-full"><i data-lucide="user"
                        class="w-3 h-3"></i> Pablo Molina</span>
            </div>

            <h3 class="text-white font-bold mb-4">Project Context</h3>
            <p class="text-sm text-slate-400 max-w-2xl mb-8">
                Developed as a research prototype to explore Virtual Reality interfaces for industrial manipulation.
                Focus on user safety and intuitive control systems.
            </p>
            <div class="text-center">
                <a href="index.html#projects"
                    class="text-cyan-400 hover:text-white transition-colors text-sm font-medium">‚Üê Back to Projects</a>
            </div>
        </section>

    </main>

    <footer class="py-8 text-center text-slate-500 text-sm bg-[#0b0f19] border-t border-slate-800">
        <a href="contact.html" class="hover:text-purple-400 transition-colors block mb-2">
            <p>&copy; 2025 Hugo Sevilla Mart√≠nez. Built with <i data-lucide="heart"
                    class="w-3 h-3 inline text-red-500"></i> &
                Code.</p>
        </a>
        <a href="terminal.html"
            class="inline-flex items-center gap-1 text-slate-700 hover:text-green-500 transition-colors font-mono text-xs opacity-50 hover:opacity-100"
            title="System Terminal">
            <i data-lucide="terminal" class="w-3 h-3"></i> >_
        </a>
    </footer>

    <script> lucide.createIcons(); </script>
</body>

</html>